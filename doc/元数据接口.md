#元数据相关接口

[目录1]

[1.创建数据标准分类](#t1)

[2.删除数据标准分类](#t2)

[3.编辑数据标准分类](#t3)

[4.查询数据标准树](#t4)

[5.查询数据标准所包含记录](#t5)

[6.增加元数据属性字段](#t6)

[7.删除元数据](#t7)

[8.编辑元数据属性字段](#t8)

[9.创建词汇表类型](#t9)

[10.查询词汇表类型](#t10)

[11.修改词汇表类型](#t11)

[12.删除词汇表类型](#t12)



## <a name='t1'>1.创建数据标准分类</a>
### 1.1. 请求参数:

* `name`:数据标准名称,必须
* `description`:标准描述,请求必须
* `pId`:父节点,如果为-1则表示为根节点

### 1.2. 返回json格式:

```json
{
    success:true,
    msg:"如果success为false时返回错误信息"
}
```
### <a name='t2'>2. 删除数据标准分类</a>
### 2.1.请求参数:
* `id`:标准id,必须

### 2.2.返回json格式:

```json
{
    success:true,
    msg:"如果success为false时返回错误信息"
}
```

### <a name='t3'>3. 编辑数据标准分类</a>
### 3.1.请求参数:
* `id`:标准id,必须
* `name`:数据标准名称,此参数如为空,表示保持原有值,非必须
* `description`:标准描述,此参数如为空,表示保持原有值,非必须
* `pId`:父节点,如果为-1则表示为根,此参数如为空,表示保持原有值,非必须

### 3.2.返回json格式:

```json
{
    success:true,
    msg:"如果为success为false时返回错误信息"
}
```

### <a name='t4'>4. 查询数据标准树（只查下一级，被哪个资源库引用）</a>
### 4.1.请求参数:

* `pId`:父节点,如果为-1则表示为根,必须

### 4.2.返回json格式:

```json
[
  {
    "id": 1,
    "name": "国家标准",
    "pId`": "",
	}
]
    
```

### <a name='t5'>5. 查询数据标准所包含记录</a>
#### 5.1. 请求参数

* `pId`:父节点id,必须
* `querycondition`:查询条件。 name表示按名称模糊查询,code表示按编码模糊查询,非必须
* `value`:用户输入值,非必须
* `sortattribute`:排序的字段名,非必须
* `order`:排序的顺序(desc,asc),非必须
* `pagenumber`:分页的页数,非必须
* `recordesperpage`:每页的数据量,非必须

#### 5.2. 返回json格式
##### 5.2.1. 数据类型`datatype`说明
* `langstring`:多语言字符串
* `string`:字符串
* `number`:数值
* `vocabulary`:词汇表
* `structure`:结构类型
* `date`:日期

##### 5.2.2.  `constraints`赋值约束说明（需要添加一个属性字段，该字段为针对元数据输入时的约束）
* `numberrange`:范围;格式:m,n;表示从m开始到n;数字m代表整数位数,n代表小数位数
* `daterange`:时间格式:日期m为开始日期,n为结束日期,日期格式:yyyy-MM-dd
* `nullable`:是否是必备元素
* `unique`:是否是唯一元素
* `length`:字符长度

##### 5.2.3. 返回json例子

```json
    {
  "total": 28,//总记录数
  "rows": [
    {
      "id": "1",
      "name": "标识",
      "enName": "Identifier",
      "description": "字段描述",
      "datatype": "structure",
      "lomId": "1.1",
      "innercode": "010101",//针对元数据内部编码，可为空
      "size": 10,//最小峰值
	  }
		]
			
    } 
```

### <a name='t6'>6. 增加元数据属性字段</a>
#### 6.1. 请求参数:
* `name`:中文名称,必须
* `enName`:英文名称,非必须
* `description`:解释,非必须
* `lomId`:lom编号,非必须
* `size`:取值数,必须
* `datatype`:数据类型,必须
* `constraints`:约束数据集合,参考5.2.3示例,非必须
* `subIds`:如果datatype为词汇表或结构类型时，保存相应的数据类型ID,非必须

#### 6.2. 返回参数:

```json
{
    success:true,
    msg:"如果为success为false时返回错误信息"
}
```

### <a name='t7'>7. 删除元数据</a>
### 7.1.请求参数:
* `id`:字段id,必须

### 7.2.返回json格式:

```json
{
    success:true,
    msg:"如果为success为false时返回错误信息"
}
```

### <a name='t8'>8. 编辑元数据属性字段</a>
#### 8.1. 请求参数:

* `id`:字段id,必须
* `name`:中文名称,如果没有传的话,表示保持原有值,非必须
* `enName`:英文名称,如果没有传的话,表示保持原有值,非必须
* `description`:解释,如果没有传的话,表示保持原有值,非必须
* `lomId`:lom编号,如果没有传的话,表示保持原有值,非必须
* `size`:取值数,如果没有传的话,表示保持原有值,非必须
* `datatype`:数据类型,如果没有传的话,表示保持原有值,非必须
* `constraints`:约束数据集合,参考5.2.3示例,非必须
* `subIds`:如果datatype为词典或者数据结构时,表示词典类型集合或者数据结构类型集合,非必须

#### 8.2. 返回参数:

```json
{
    success:true,
    msg:"如果为success为false时返回错误信息"
}
```

###<a name="t9">9.创建词汇表类型</a>

####9.1.接口描述
      词汇表分词汇表类型和词汇表词汇,把这两个分开,创建词汇表分类就是创建词汇表表分类,
    每个词汇表分类中创建词汇单独接口
####9.2.请求参数
* `zh_name`:中文名称
* `en_name`:英文名称
* `lom_id`:lom编号
* `source`:词汇表引用


####9.3.返回json格式

```json
[
 {   success:true,
    id:只有当success为true时返回,
    msg:"如果为success为false时返回错误信息"
 }
]
```


###<a name="t10">10.查询所有词汇表类型</a>

####10.1.请求参数
* `condition`:1为名称,2为编码,非必须
* `name`:用户输入值资源名,非必须（模糊查询还有name的资源）
* `sort`:排序的字段名,非必须
* `order`:排序的顺序(desc,asc),非必须
* `page`:分页的页数,必须（具体返回哪一页）
* `rows`:每页的记录数,必须

####10.2.返回json格式

```json
{
  total:总记录数,
  rows:[{
    id:id标识,
    zh_name:中文名称,
    en_name:英文名称,
    lom_id:lom编号,
    source:词汇表引用,
    words:[ {"id": 8,"name": "天气"},...]
},...]
}
```


###<a name="t11">11.修改词汇表类型</a>

####11.1.请求参数

####11.2.返回json格式

###<a name="t12">12.删除词汇表类型</a>

####12.1.请求参数

####12.2.返回json格式




